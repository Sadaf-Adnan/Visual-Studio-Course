@page
@model IndexModel
@{
    ViewData["Title"] = "Sadaf Adnan's Page";
}

<style>
    body {
        background-color: #1a1a2e;
        color: #e94560;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 80vh; /* Keeps content centered in the viewport */
    }

    .header-container {
        text-align: center;
        margin-bottom: 40px;
        margin-top: 20px;
    }

    /* The h1 element styled for our JS animation */
    #animated-header {
        font-size: 3.5rem;
        margin: 0;
        font-weight: bold;
        /* A slight transition keeps the JS scaling smooth */
        transition: transform 0.05s linear; 
    }

    .sub-header {
        color: #a2a8d3;
        font-size: 1.2rem;
        margin-top: 10px;
    }

    /* Video wrapper for a clean border and shadow */
    .video-container {
        border: 4px solid #0f3460;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
        background-color: #000;
        transition: border-color 0.5s;
    }

    .video-container:hover {
        border-color: #e94560;
    }

    iframe {
        display: block;
    }
</style>

<div class="header-container">
    <h1 id="animated-header">Sadaf Adnan's Vibe Zone</h1>
    <p class="sub-header">Sit back, relax, and enjoy the music.</p>
</div>

<div class="video-container">
    <iframe width="560" 
            height="315" 
            src="https://www.youtube.com/embed/djV11Xbc914?autoplay=0" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
    </iframe>
</div>

<script>
    // Grab the h1 element we want to animate
    const header = document.getElementById('animated-header');
    
    // Angle variable used to calculate the sine waves
    let angle = 0;

    function animateHeader() {
        // Increment the angle slightly on each frame
        angle += 0.04;

        // Calculate smooth RGB values using sine waves offset by different amounts
        const red = Math.floor((Math.sin(angle) * 127) + 128);
        const green = Math.floor((Math.sin(angle + 2) * 127) + 128);
        const blue = Math.floor((Math.sin(angle + 4) * 127) + 128);
        
        // Calculate a gentle scaling pulse (between 0.95x and 1.05x normal size)
        const scale = 1 + (Math.sin(angle * 2) * 0.05);

        // Apply dynamic styles to the DOM element
        header.style.color = `rgb(${red}, ${green}, ${blue})`;
        header.style.textShadow = `0 0 20px rgba(${red}, ${green}, ${blue}, 0.8)`;
        header.style.transform = `scale(${scale})`;

        // Tell the browser to run this function again before the next repaint
        requestAnimationFrame(animateHeader);
    }

    // Start the infinite loop once the window is loaded
    window.onload = animateHeader;
</script>
